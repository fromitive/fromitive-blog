---
title: "Gradle #3 - gradle.setting íŒŒì¼ ìš©ë„"
description: "gradleì˜ í° êµ¬ì¡° ë° subProject ìƒì„±í•˜ëŠ” ë°©ë²•"
time: 2023-10-24 09:19:12
comments: true
tags:
  - java
  - gradle
---

!!! Abstract "ê¸€ ìš”ì•½"
    1. `settings.gradle` íŒŒì¼ì„ í†µí•´ subProjectë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

    2. project êµ¬ì¡°ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„  `./gradlew projects` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•œë‹¤.

    3. subProject ì•ˆì—ëŠ” ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ `build.gradle` íŒŒì¼ê³¼ `src` ë””ë ‰í„°ë¦¬ê°€ ìˆë‹¤.

    4. subProjectë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„  `settings.gradle` íŒŒì¼ ì•ˆì— `include('í”„ë¡œì íŠ¸ ëª…')`ì„ ì¶”ê°€í•œë‹¤.

    5. ê·¸ ì´í›„ subProject ì´ë¦„ì˜ ë””ë ‰í„°ë¦¬ë¥¼ ìƒì„±í•œ í›„ `src`ì™€ `build.gradle`íŒŒì¼ì„ í•´ë‹¹ ë””ë ‰í„°ë¦¬ì— ë„£ëŠ”ë‹¤.

    6. `./gradle :<subPorjectëª…>:<taskëª…>` ì„ ì…ë ¥í•˜ë©´ subProjectì—ì„œ ì§€ì› ê°€ëŠ¥í•œ task ëª©ë¡ì´ ë‚˜íƒ€ë‚œë‹¤.

## ğŸ” Gradle íŒŒì¼ ì‚´í´ë³´ê¸°

Gradleì—ì„œ ì‚´í´ë³¼ íŒŒì¼ì€ `gradle.build` íŒŒì¼ê³¼ `settings.gradle` ì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ í° ìˆ²ì„ ë³´ê¸° ìœ„í•´ `settings.gradle` íŒŒì¼ì„ ì‚´í´ë´…ë‹ˆë‹¤.

## ğŸ©» settings.gradle êµ¬ì¡°

`settings.gradle` íŒŒì¼ì„ í›‘ì–´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ë‚˜íƒ€ë‚˜ ìˆìŠµë‹ˆë‹¤. ì¼ë‹¨, í”ŒëŸ¬ê·¸ì¸ ë¶€ë¶„ì€ ìƒëµí•œ ì±„ë¡œ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤. `gradle-example`ì´ í˜„ì¬ ìˆ˜í–‰í•˜ê³  ìˆëŠ” `rootProject`ëª…ì´ë©°, {==**`include('lib')` ë¶€ë¶„ì´ gradle-example `subProject`ì¸ `lib` í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤.**==}

``` groovy title="settings.gradle" hl_lines="7"
plugins {
    // Apply the foojay-resolver plugin to allow automatic download of JDKs
    id 'org.gradle.toolchains.foojay-resolver-convention' version '0.7.0'
}

rootProject.name = 'gradle-example'
include('lib')

```

## ğŸ¤ğŸ» rootProjectì™€ subProjectì˜ ê´€ê³„

rootProjectì™€ subProjectì˜ ê´€ê³„ëŠ” ì•„ë˜ì˜ ì´ë¯¸ì§€[^1] ì²˜ëŸ¼ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. {==**ê° subProject ë§ˆë‹¤ build.gradle íŒŒì¼ì´ ìˆìŒì„ ì£¼ëª©í•´ì£¼ì„¸ìš”.**==}

<figure markdown>
![Image title](/fromitive-blog/assets/2023-10-23/project-structure.png){ width="1000"}
<figcaption>ì´ë¯¸ì§€1 - gradle í”„ë¡œì íŠ¸ êµ¬ì¡°</figcaption>
</figure>

[^1]:ì´ë¯¸ì§€ ì¶œì²˜ : https://docs.gradle.org/current/userguide/part1_gradle_init.html

## ğŸ“œ subProject ëª©ë¡ í™•ì¸ 

subProjectê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ”, {==**`./gradlew projects` ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ í™•ì¸**==}í•©ë‹ˆë‹¤. ì´ì „ í¬ìŠ¤íŒ…ì—ì„œ ìƒì„±í•œ í”„ë¡œì íŠ¸ëŠ” `lib` ì´ë¦„ì˜ subProjectê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

``` bash title="subProject í™•ì¸ ëª…ë ¹ì–´" hl_lines="10"
fromitive@dev:~/practice/gradle-example$ ./gradlew projects

> Task :projects

------------------------------------------------------------
Root project 'gradle-example'
------------------------------------------------------------

Root project 'gradle-example'
+--- Project ':lib'

To see a list of the tasks of a project, run gradlew <project-path>:tasks
For example, try running gradlew :lib:tasks
```

## âš™ï¸ subProjectê°€ ì§€ì›í•˜ëŠ” task í™•ì¸

./gradlewë¡œ subProjectê°€ {==**ì§€ì›í•˜ëŠ” task ëª©ë¡ì„ í™•ì¸í•˜ê¸° ìœ„í•´ì„  `./gradlew :<subProject ëª…>:tasks` ë¥¼ ì…ë ¥**==}í•˜ë©´ ë©ë‹ˆë‹¤.

subProject ë‹¨ë…ìœ¼ë¡œ taskë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„  `./gradlew :<subProject ëª…>:<taskëª…>`ì„ ì…ë ¥í•˜ë©´ ë˜ê² ìŠµë‹ˆë‹¤.

``` bash title="subProjectê°€ ì§€ì›í•˜ëŠ” task í™•ì¸" hl_lines="1"
romitive@dev:~/practice/gradle-example$ ./gradlew :lib:tasks

> Task :lib:tasks

------------------------------------------------------------
Tasks runnable from project ':lib'
------------------------------------------------------------
(..ìƒëµ..)
```

## ğŸŒŸ subProject ìƒì„±í•˜ê¸°

rootProjectì—ì„œ subProjectë¥¼ ì¶”ê°€í•´ ë´…ë‹ˆë‹¤.

### 1ï¸âƒ£ settings.gradleì— include ë¬¸êµ¬ ì¶”ê°€

`settings.gradle`ì— `include` ë¬¸êµ¬ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•©ë‹ˆë‹¤. {==**includeì— ë“¤ì–´ê°ˆ ë¬¸êµ¬ëŠ” subProject ëª…ì´ ë©ë‹ˆë‹¤**==}. ì•„ë˜ì˜ ì˜ˆì œì˜ ì¶”ê°€ í•  í”„ë¡œì íŠ¸ ëª…ì€ `moosong` ì…ë‹ˆë‹¤.

``` groovy title="settings.gradle" linenums="1" hl_lines="3"
rootProject.name = 'gradle-example'
include('lib')
include('moosong')
```

`./gradlew projects` ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ `moosong`ì´ë¦„ì˜ subProjectê°€ ì¶”ê°€ ë˜ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

``` bash title="gradlew projets ê²°ê³¼" hl_lines="5"
fromitive@dev:~/practice/gradle-example$ ./gradlew projects
(..ìƒëµ..)
Root project 'gradle-example'
+--- Project ':lib'
\--- Project ':moosong'
```

`./gradlew :moosong:tasks`ë¥¼ ì…ë ¥í•˜ë©´, {==**ì•„ì§ `moosong`ë””ë ‰í„°ë¦¬ì™€ `build.gradle` íŒŒì¼ì´ ì—†ì–´ `help ê´€ë ¨ task`ë§Œ ì§€ì›**==}í•˜ê³  ìˆìŠµë‹ˆë‹¤.

``` bash title="./gradlew :moosong:tasks ì‹¤í–‰ ê²°ê³¼ 1" hl_lines="9"
fromitive@dev:~/practice/gradle-example$ ./gradlew :moosong:tasks

> Task :moosong:tasks

------------------------------------------------------------
Tasks runnable from project ':moosong'
------------------------------------------------------------

Help tasks
----------
(..ìƒëµ..)
```

### 2ï¸âƒ£ subProject ë””ë ‰í„°ë¦¬ ìƒì„±

rootProjectì¸ `gradle-example` ë””ë ‰í„°ë¦¬ ì•ˆì— `moosong` ë””ë ‰í„°ë¦¬ë¥¼ ìƒì„±í•œ í›„ {==**`lib`ë””ë ‰í„°ë¦¬ì˜ `src`ì™€ `build.gradle`ì„ ë³µì‚¬**==}í•´ ì¤ë‹ˆë‹¤. ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ê°€ ì™„ì„±ë©ë‹ˆë‹¤.

``` bash title="moosong ë””ë ‰í„°ë¦¬ êµ¬ì¡°" hl_lines="4 5"
.
(..ìƒëµ..)
â”œâ”€â”€ ğŸ“ moosong
â”‚   â”œâ”€â”€ ğŸ“„ build.gradle
â”‚   â””â”€â”€ ğŸ“ src
â”‚       â”œâ”€â”€ main
â”‚       â””â”€â”€ test
(..ìƒëµ..)
```

## âœ… subProject task ì‹¤í–‰

`./gradlew :moosong:tasks`ë¥¼ ì…ë ¥í•˜ë©´ ì´ì „ê³¼ëŠ” ë‹¤ë¥´ê²Œ ì—¬ëŸ¬ ê°œì˜ taskë“¤ì´ ìƒê¸´ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •í™•íˆëŠ” `lib` ë””ë ‰í„°ë¦¬ì˜ `task`ì™€ ë™ì¼í•œ ë‚´ìš©ì´ ì§€ì›ë©ë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” {==**moosong ë””ë ‰í„°ë¦¬ì˜ build.gradle íŒŒì¼ì´ lib ë””ë ‰í„°ë¦¬ì˜ build.gradleê³¼ ë™ì¼í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.**==}

``` bash title="./gradlew :moosong:tasks ì‹¤í–‰ ê²°ê³¼ 2" hl_lines="7 11 19"
> Task :moosong:tasks

------------------------------------------------------------
Tasks runnable from project ':moosong'
------------------------------------------------------------

Build tasks
-----------
(..ìƒëµ..)

Documentation tasks
-------------------
(..ìƒëµ..)

Help tasks
----------
(..ìƒëµ..)

Verification tasks
------------------
(..ìƒëµ..)
```

