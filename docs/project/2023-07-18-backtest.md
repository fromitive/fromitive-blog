---
title: "backtest ì „ëµì„ ì‹¤ì œ íˆ¬ìì— ì ìš©í•˜ê¸° #3"
description: pybithumbì˜ ê¸°ëŠ¥ ë¶„ì„
date: 2023-07-18 15:19:00
comments: true
tags:
  - backtest
  - project
  - quant trading
  - pybithumb
---

!!! note ""
    ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ ë§í¬ : [https://www.github.com/fromitive/backtest](https://www.github.com/fromitive/backtest)

!!! info ""
    ì´ì „ ê¸€ : [backtest ì „ëµì„ ì‹¤ì œ íˆ¬ìì— ì ìš©í•˜ê¸° #2](/fromitive-blog/project/2023-07-17-backtest)

## ê³ ë ¤í•´ì•¼í•  ì‚¬í•­ (ê³„ì†)

ì´ì „ ê¸€ì—ì„œ [bithumb api](https://apidocs.bithumb.com/reference/%EC%A7%80%EC%A0%95%EA%B0%80-%EC%A3%BC%EB%AC%B8%ED%95%98%EA%B8%B0) ê°€ì´ë“œë¥¼ ë³´ë©´ì„œ ì§ì ‘ êµ¬í˜„ì„ í–ˆë‹¤ë©´, ì˜¤ëŠ˜ì€ ì´ë¯¸ ì˜ ë§Œë“¤ì–´ì§„ íŒ¨í‚¤ì§€ì¸ `pybithumb`ì„ ì´ìš©í•´ë³´ì.

``` title="ìš”êµ¬ì‚¬í•­" hl_lines="2"
1. top 5 ê±°ë˜ëŸ‰ì€ ì–´ë–»ê²Œ ì¶”ì¶œí•  ê²ƒì¸ì§€ (ì™„ë£Œ)
2. ë§¤ìˆ˜ë¥¼ í•˜ëŠ” APIëŠ” ì–´ë–»ê²Œ êµ¬í˜„ í•˜ëŠ”ì§€
3. ë§¤ìˆ˜ í•  ë•Œì˜ ê¸ˆì•¡ì€ ì–´ë–»ê²Œ ê³„ì‚°í•  ê²ƒì¸ì§€
4. ë§¤ìˆ˜ í”Œë˜ê·¸ëŠ” ì–´ë–»ê²Œ ì„¸íŒ…í•  ê²ƒì¸ì§€
5. ì£¼ë¬¸ì€ í–ˆìœ¼ë‚˜, êµ¬ë§¤ì— ì„±ê³µí–ˆëŠ”ì§€ ì•ˆí–ˆëŠ”ì§€ ì–´ë–»ê²Œ í™•ì¸í•  ìˆ˜ ìˆëŠ”ì§€
6. ë§¤ìˆ˜í•œ ì½”ì¸ì˜ ìˆ˜ìµìœ¨ì€ ì–´ë–»ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ”ì§€
7. ë§¤ìˆ˜í•œ ì½”ì¸ì˜ ë§¤ë„ì— ì‹¤íŒ¨ í–ˆì„ ë•Œ, ì–´ë–»ê²Œ ì£¼ë¬¸ì„ ì·¨ì†Œí•˜ê³  ì¬ ë§¤ë„í•  ìˆ˜ ìˆëŠ”ì§€
```

## pybithumb ì‚¬ìš©

!!! note ""
    pybithumb github ì£¼ì†Œ : [https://github.com/sharebook-kr/pybithumb](https://github.com/sharebook-kr/pybithumb)

`pybithumb`ì€ bithumb APIë¥¼ í¸í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ wrapperë¼ê³  ì†Œê°œ ëœë‹¤. ì–¼ë§ˆë‚˜ ì‚¬ìš©í•˜ê¸° í¸í•œì§€ ì•Œì•„ë³´ì.

### pybithumb ì„¤ì¹˜
ìœ„ì˜ `pybithumb github ì£¼ì†Œ`ë¡œ ì ‘ì†í•˜ê²Œ ë˜ë©´ ê°€ì¥ ë¨¼ì € ë³´ì´ëŠ” `README.md`íŒŒì¼ì´ ìˆìœ¼ë©°, ë§¨ì²˜ìŒì— íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì´ ë‚˜ì˜¨ë‹¤.

``` bash title="pybithumb ì„¤ì¹˜ ë°©ë²•"
pip install pybithumb
```

ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆìœ¼ë©´ pythonì„ ì‹¤í–‰í•œ í›„ `import pybithumb`ì´ë¼ê³  ì³ì„œ ì˜¤ë¥˜ê°€ ì•ˆë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•˜ì ì•„ë¬´ê²ƒë„ ì•ˆë‚˜ì˜¤ë©´ ì„¤ì¹˜ê°€ ì œëŒ€ë¡œ ì™„ë£Œëœ ê²ƒì´ë‹¤.

``` python title="pybithumb ì„¤ì¹˜ í™•ì¸ ë°©ë²•"
(env) ubuntu@ubuntu:~/backtest$ python
Python 3.10.6 (main, May 29 2023, 11:10:38) [GCC 11.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import pybithumb
>>> 
```

### pybithumb ì‚¬ìš©ë²•

pybithumbì€ `public API` ë° `private API`, ê·¸ë¦¬ê³  `websocket`ë¥¼ ì§€ì›í•œë‹¤. ê° ì§€ì›í•˜ëŠ” APIë¥¼ ê°„ë‹¨í•˜ê²Œ ì†Œê°œí•˜ìë©´ ì•„ë˜ì™€ ê°™ë‹¤.


| public / private | Method ëª…               | ì„¤ëª…                                                                                                                                                                                                                    |
| ---------------- | ----------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| public ğŸŒ       | get_tickers             | bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `í˜„ì¬ê°€ ì •ë³´ ì¡°íšŒ(ALL) (/public/ticker/ALL_{ë§ˆì¼“ ì¢…ë¥˜})`ë¥¼ ì§€ì›í•œë‹¤.                                                                                                                           |
| public ğŸŒ       | get_current_price       | bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `í˜„ì¬ê°€ ì •ë³´ ì¡°íšŒ (ìì‚°ë³„) (/public/ticker/{ì½”ì¸ ì¢…ë¥˜}_{ë§ˆì¼“ ì¢…ë¥˜})`ë¥¼ ì§€ì›í•œë‹¤                                                                                                                |
| public ğŸŒ       | get_market_detail       | pybithumb ì—ì„œ bithumb APIì˜ `í˜„ì¬ê°€ ì •ë³´ ì¡°íšŒ (ìì‚°ë³„) (/public/ticker/{ì½”ì¸ ì¢…ë¥˜}_{ë§ˆì¼“ ì¢…ë¥˜})`ë¥¼ ê³„ëŸ‰í•œ ê²ƒ bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `í˜„ì¬ê°€ ì •ë³´ ì¡°íšŒ (ìì‚°ë³„)  (/public/ticker/{ì½”ì¸ ì¢…ë¥˜}_{ë§ˆì¼“ ì¢…ë¥˜})`ë¥¼ ì§€ì›í•œë‹¤ |
| public ğŸŒ       | get_ohlc                | pybithumb ì—ì„œ bithumb APIì˜ `í˜„ì¬ê°€ ì •ë³´ ì¡°íšŒ (ìì‚°ë³„) (/public/ticker/{ì½”ì¸ ì¢…ë¥˜}_{ë§ˆì¼“ ì¢…ë¥˜})`ë¥¼ ê³„ëŸ‰í•œ ê²ƒìœ¼ë¡œ í˜„ì¬ ì½”ì¸ì˜ OHLC(ì‹œê°€,ê³ ê°€,ì €ê°€,ì¢…ê°€)ë¥¼ íŠœí”Œë¡œ ì œê³µí•œë‹¤.                                              |
| public ğŸŒ       | get_orderbook           | bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `í˜¸ê°€ ì •ë³´ ì¡°íšŒ (ìì‚°ë³„) (/public/orderbook/{order_currency}_{payment_currency})`ë¥¼ ì§€ì›í•œë‹¤                                                                                                   |
| public ğŸŒ       | get_btci                | bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `BTCI (ë¹—ì¸ì§€ìˆ˜) (/public/btci)`ë¥¼ ì§€ì›í•œë‹¤                                                                                                                                                    |
| public ğŸŒ       | get_transaction_history | bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `ìµœê·¼ ì²´ê²° ë‚´ì—­ (/transaction_history/{order_currency}_{payment_currency})`ì„ ì§€ì›í•œë‹¤.                                                                                                        |
| public ğŸŒ       | get_candlestick         | bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `CANDLESTICK API (/public/candlestick/{order_currency}_{payment_currency}/{chart_intervals})`ë¥¼ ì§€ì›í•œë‹¤. ê²°ê³¼ê°’ìœ¼ë¡œ `pandas.DataFrame`ì´ ë°˜í™˜ëœë‹¤.                                            |
| private ğŸ”’      | get_trading_fee         | pybithumb ì—ì„œ bithumb APIì˜ `íšŒì› ì •ë³´ ì¡°íšŒ (/info/account)`ë¥¼ ê³„ë‘í•œ ê²ƒìœ¼ë¡œ ì½”ì¸ ë³„ ê±°ë˜ ìˆ˜ìˆ˜ë£Œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.                                                                                                     |
| private ğŸ”’      | get_balance             | pybithumb ì—ì„œ bithumb APIì˜ `íšŒì› ì •ë³´ ì¡°íšŒ (/info/account)`ë¥¼ ê³„ë‘í•œ ê²ƒ íšŒì›ì˜ ì”ê³ ë¥¼ (ë³´ìœ ì½”ì¸,  ì‚¬ìš©ì¤‘ì¸ì½”ì¸, ë³´ìœ ì›í™”, ì‚¬ìš©ì¤‘ì–¸í™”) íŠœí”Œë¡œ ì œê³µí•¨                                                                   |
| private ğŸ”’      | buy_limit_order         | pybithumb ì—ì„œ bithumb APIì˜ `ì§€ì •ê°€ ì£¼ë¬¸í•˜ê¸° (/trade/place)`ë¥¼ ê³„ëŸ‰í•œ ê²ƒìœ¼ë¡œ ^^êµ¬ë§¤í•  ì½”ì¸^^ ì— ëŒ€í•´ ê°€ê²© ë° ê°œìˆ˜ë¥¼ ì§€ì •í•˜ì—¬ ì£¼ë¬¸í•  ìˆ˜ ìˆìŒ                                                                            |
| private ğŸ”’      | sell_limit_order        | pybithumb ì—ì„œ bithumb APIì˜ `ì§€ì •ê°€ ì£¼ë¬¸í•˜ê¸° (/trade/place)`ë¥¼ ê³„ëŸ‰í•œ ê²ƒìœ¼ë¡œ ^^íŒë§¤í•  ì½”ì¸^^ ì— ëŒ€í•´ ê°€ê²© ë° ê°œìˆ˜ë¥¼ ì§€ì •í•˜ì—¬ ì£¼ë¬¸í•  ìˆ˜ ìˆìŒ                                                                            |
| private ğŸ”’      | get_outstanding_order   | pybithumb ì—ì„œ bithumb APIì˜ `ê±°ë˜ ì£¼ë¬¸ë‚´ì—­ ì¡°íšŒ (/info/orders)`ë¥¼ ê³„ë‘í•œ ê²ƒìœ¼ë¡œ ^^ë¯¸ì²´ê²°ëœ ì½”ì¸ì˜ ì •ë³´^^ ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŒ                                                                                             |
| private ğŸ”’      | get_order_completed     | pybithumb ì—ì„œ bithumb APIì˜ `ê±°ë˜ ì£¼ë¬¸ë‚´ì—­ ì¡°íšŒ (/info/orders)`ë¥¼ ê³„ë‘í•œ ê²ƒìœ¼ë¡œ ^^ì²´ê²°ëœ ì½”ì¸ì˜ ì •ë³´^^ ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŒ                                                                                               |
| private ğŸ”’      | cancel_order            | pybithumb ì—ì„œ bithumb APIì˜ `ì£¼ë¬¸ ì·¨ì†Œí•˜ê¸° (/trade/cancel)`ë¥¼ ê³„ë‘í•œ ê²ƒìœ¼ë¡œ ìµœê·¼ ì£¼ë¬¸í•œ ì½”ì¸ì˜ ê±°ë˜ë¥¼ ì·¨ì†Œí•  ìˆ˜ ìˆìŒ                                                                                                   |
| private ğŸ”’      | buy_market_order        | bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `ì‹œì¥ê°€ ë§¤ìˆ˜í•˜ê¸° (/trade/market_buy)` ê¸°ëŠ¥ì„ ì œê³µí•¨                                                                                                                                            |
| private ğŸ”’      | sell_market_order       | bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `ì‹œì¥ê°€ ë§¤ë„í•˜ê¸° (/trade/market_sell)` ê¸°ëŠ¥ì„ ì œê³µí•¨                                                                                                                                           |
| private ğŸ”’      | withdraw_coin           | bithumb APIì—ì„œ ì œê³µí•˜ëŠ” `ì½”ì¸ ì¶œê¸ˆí•˜ê¸° (/trade/btc_withdrawal)` ê¸°ëŠ¥ì„ ì œê³µí•¨                                                                                                                                          |
| private ğŸ”’      |        withdraw_cash                 | :warning: {== í•´ë‹¹ APIëŠ” ë¹—ì¸ API ë¬¸ì„œ ë“±ë¡ë˜ì–´ ìˆì§€ ì•ŠìŒ==} - deprecated                                                                                                                                                                                                            |

### public ğŸŒ api ì‚¬ìš©ë²•

`pybithumb` ì—ì„œ `public api`ëŠ” ìƒíƒœë¥¼ ì €ì¥í•˜ì§€ ì•Šë„ë¡ ë‚´ë¶€ì— `@staticmethod` ë°ì½”ë ˆì´í„°[^1]ë¥¼ ë„£ì–´ì„œ êµ¬ë¶„í•˜ì˜€ë‹¤. 

ë”°ë¼ì„œ Bithumb ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ , Bithubì•ˆì˜ methodë¥¼ í˜¸ì¶œí•˜ëŠ” í˜•íƒœë¡œ ì´ë£¨ì–´ ì§„ë‹¤.

``` python title="pybithumb_public_api.py" linenums="1"
from pybithumb import Bithumb

# public api í˜¸ì¶œ - ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
Bithumb.get_tickers(payment_currency="KRW")  # ê±°ë˜ ê°€ëŠ¥í•œ ì½”ì¸ì— ëŒ€í•´ í˜„ì¬ê°€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
```
[^1]: `@staticmethod`ë¥¼ ì§€ì •í•˜ê²Œ ë˜ë©´, class í•¨ìˆ˜ì˜ ë©”ì†Œë“œì— selfë¥¼ ë„£ì„ ìˆ˜ ì—†ê²Œë˜ì–´, ê°ì²´ì˜ ë§´ë²„ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ì—†ê²Œ ëœë‹¤. ë”°ë¼ì„œ {==public apië¥¼ ì´ìš©í•˜ì—¬ apikey ë° secretì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ ë„ì™€ì¤€ë‹¤==}.

### private ğŸ”’ ì‚¬ìš©ë²•

`pybithumb` ì—ì„œ `private api`ëŠ” `bithumb API Key`ê°€ í•„ìš”í•˜ë¯€ë¡œ ë§´ë²„ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.

ë”°ë¼ì„œ Bithumb ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ `API Key` ë° `Secret`ì„ ì„¤ì •í•˜ì—¬ methodë¥¼ í˜¸ì¶œí•˜ëŠ” í˜•íƒœë¡œ ì´ë£¨ì–´ ì§„ë‹¤.

``` python title="pybithumb_private_api.py" linenums="1"
from pybithumb import Bithumb

# private api í˜¸ì¶œ - API Keyì™€ Secretì„ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
bithumb = Bithumb('api key','secret')  # api key ë° secert ì„ ì„¤ì •í•˜ì—¬ Bithumb ê°ì²´ ìƒì„±

bithumb.get_balance(currency="BTC")  # íšŒì›ì˜ ì”ê³ ë¥¼ ì¡°íšŒí•œë‹¤ currencyë¥¼ ê¼­ í•˜ë‚˜ë¼ë„ ì§€ì •í•´ì•¼ í•œë‹¤.

```

## ë‹¤ìŒì€?

`pybithumb` íŒ¨í‚¤ì§€ì—ëŠ” APIë¥¼ í¸í•˜ê²Œ í˜¸ì¶œ í•˜ë„ë¡ í¸ë¦¬í•œ ê¸°ëŠ¥ì´ ë§ì´ ë“¤ì–´ìˆë‹¤. ê·¸ëŸ¬ë‚˜, ì¼ë¶€ API í•¨ìˆ˜ëŠ” `Bithumb API`ì—ì„œ ë°˜í™˜í•˜ëŠ” ê°’ë“¤ì„ ì˜¨ì „íˆ ë°›ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.[^2]

ë”°ë¼ì„œ ë‹¤ìŒ ì‹œê°„ì—ëŠ” `pybithumb`ì˜ ê¸°ëŠ¥ì´ ì•„ë‹Œ êµ¬ì¡° ì¸¡ë©´ì—ì„œ ë¶„ì„ í•  ì˜ˆì •ì´ë‹¤.

[^2]: private apiì¸ .get_balance ë©”ì†Œë“œê°€ ê·¸ë ‡ë‹¤. [Bithumb API](https://apidocs.bithumb.com/reference/%EB%B3%B4%EC%9C%A0%EC%9E%90%EC%82%B0-%EC%A1%B0%ED%9A%8C) ë¬¸ì„œì— ë”°ë¥´ë©´ ê¸°ë³¸ ê°’ì„ ì•ˆë„£ì–´ë„ ë˜ë‚˜, pybithumbì—ì„œëŠ” currencyì— default ê°’ì´ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šì•„ ê¼­ currencyë¥¼ ì§€ì •í•´ì•¼ í•œë‹¤.

