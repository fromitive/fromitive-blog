---
title: "ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ í”„ë¦¬ì½”ìŠ¤ 3ì£¼ì°¨ íšŒê³ "
description: ""
time: 2023-11-09 13:22:09
comments: true
tags:
  - woowahan-tech
  - life
---

## í›„ê¸°

ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ 3ì£¼ì°¨ í”„ë¦¬ì½”ìŠ¤ê°€ ëë‚¬ë‹¤. 3ì£¼ì°¨ ë¯¸ì…˜ì€ [ë¡œë˜](https://github.com/woowacourse-precourse/java-lotto-6/tree/main) ë¯¸ì…˜ì´ì—ˆë‹¤. ë¡œë˜ í”„ë¡œê·¸ë¨ì„ ì œì‘í•˜ëŠ” ë¯¸ì…˜ì´ì—ˆëŠ”ë°, ê¸°ëŠ¥ íë¦„ì€ ì•„ë˜ì™€ ê°™ì•˜ë‹¤.
```
1. êµ¬ì…í•  ë¡œë˜ ê¸ˆì•¡ì„ ì…ë ¥ë°›ëŠ”ë‹¤.
2. ë¡œë˜ ê¸ˆì•¡ì— ë”°ë¼ ë¡œë˜ê°€ ìƒì„±ëœë‹¤. (ë¡œë˜ ê°€ê²©ì´ 1000ì›ì´ê³ , êµ¬ì… ê¸ˆì•¡ì´ 15000ì›ì´ë©´ 15ê°œ ìƒì„±)
3. ë¡œë˜ ë‹¹ì²¨ë²ˆí˜¸ë¥¼ ì…ë ¥í•œë‹¤.
4. ë³´ë„ˆìŠ¤ ë²ˆí˜¸ë¥¼ ì…ë ¥í•œë‹¤.
5. ê° ë“±ìˆ˜ë³„ ë‹¹ì²¨ ê°œìˆ˜ì™€ ìˆ˜ìµìœ¨ì´ ì¶œë ¥ë˜ê³  ì¢…ë£Œëœë‹¤.
```

5ë‹¨ê³„ì˜ íë¦„ì†ì—ì„œ ê³ ë ¤í•´ì•¼í•  ëŒ€ìƒì´ ë§ë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ê³ , ìƒê°ë³´ë‹¤ ì‰½ì§€ ì•Šì•˜ë‹¤. 

## ê³ ë¯¼í–ˆë˜ ë‚´ìš©

### enum ë„ëŒ€ì²´ ì™œ ì‚¬ìš©í•˜ëŠ”ê±´ê°€?

2ì£¼ì°¨ ë¯¸ì…˜ì„ ìˆ˜í–‰í•˜ë©´ì„œ ë§ì€ ì°¸ì—¬ìë“¤ì´ `enum`ì„ ì´ìš©í•˜ì—¬ ì—ëŸ¬ì— ëŒ€í•œ ìƒìˆ˜ë‚˜, ì¶œë ¥í•  ìƒìˆ˜ë¥¼ í•œë²ˆì— ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ì•„ë˜ì˜ ì½”ë“œì²˜ëŸ¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤. í•„ìë„ ì˜¤ë¥˜ë©”ì‹œì§€ì™€ ì¶œë ¥í•  ë©”ì‹œì§€ë¥¼ ê°ê°ì˜ enumì„ ì •ì˜í•˜ì—¬ ì‚¬ìš©í•˜ì˜€ë‹¤.

``` java title="LottoCommonString" linenums="1" 
package lotto.common;

public enum LottoCommonString {
    INPUT_LOTTO_BUY_NUMBER("êµ¬ì…ê¸ˆì•¡ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”."),
    FORMAT_LOTTO_BUY_SUCCESS("%dê°œë¥¼ êµ¬ë§¤í–ˆìŠµë‹ˆë‹¤."),
    INPUT_WINNER_LOTTO_NUMBER("ë‹¹ì²¨ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”."),
    INPUT_BONUS_NUMBER("ë³´ë„ˆìŠ¤ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”."),
    LOTTO_WINNER_STATUS("ë‹¹ì²¨ í†µê³„"),
    LOTTO_RESULT_LINE("---"),
    FORMAT_WINNER_TABLE_RESULT("%s (%sì›) - %dê°œ"),
    FORMAT_PROFIT_RATE("ì´ ìˆ˜ìµë¥ ì€ %.1f%%ì…ë‹ˆë‹¤."),
    LOTTO_INPUT_DELIMITER(",");

    private final String message;

    private LottoCommonString(String message) {
        this.message = message;

    }

    public String getMessage() {
        return message;
    }
}
```

ì´ë ‡ê²Œ ì“°ë‹¤ë³´ë‹ˆ ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì´ ìƒê²¨ì„œ ì½”ë“œë¥¼ ì§œê¸° í¸í–ˆë‹¤.

1. í•œ ë²ˆì— ìƒìˆ˜ê°’ì„ ê´€ë¦¬í•˜ì—¬ ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•˜ì˜€ë‹¤.

2. íŒŒë¼ë¯¸í„°ë¥¼ Enumìœ¼ë¡œ ë°›ê²Œ ë˜ë©´ ì…ë ¥ê°’ì´ ì œí•œë˜ì–´ ê²€ì¦í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•Šì•„ì„œ ì¢‹ì•˜ë‹¤.

3. ê°™ì€ ì„±ê²©ì˜ ìë£Œë¥¼ í•œ ë²ˆì— ë¬¶ì–´ì„œ ê´€ë¦¬í•˜ê¸°ê°€ í¸í–ˆë‹¤.

í•˜ì§€ë§Œ Enumì˜ ì„±ê²©ì„ ëª¨ë¥¸ì²´ ì‚¬ìš©í•˜ì—¬ ë‚˜ìœ ê²½ìš°ë„ ìˆì—ˆë‹¤. {==**ì´ëŸ°ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ì»´íŒŒì¼ì˜¤ë¥˜ê°€ ì•„ë‹ˆë¼ `ExceptionInInitializerError` ê°€ ë‚˜íƒ€ë‚˜ì—¬ ì£¼ì˜í•´ì•¼ í•œë‹¤.**==}

``` java title="LottoErrorMessage.java" linenums="1" hl_nums="2"
public enum LottoErrorMessage {
    LOTTO_NUMBER_OUT_OF_RANGE(String.format("ë¡œë˜ ë²ˆí˜¸ëŠ” 1ë¶€í„° 45 ì‚¬ì´ì˜ ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤.")), // ì‚¬ìš©í•˜ë ¤ í•  ë•Œ ì˜ˆì™¸ì²˜ë¦¬ê°€ ë‚˜íƒ€ë‚œë‹¤.
    // ì¤‘ëµ
    private String message;

    private LottoErrorMessage(String message) {
        this.message = message;
    }

    public String getMessage() {
        return message;
    }
}
```

3ì£¼ì°¨ê°€ ëë‚˜ê³  íšŒê³ í•˜ì˜€ì„ ë•Œ ìœ„ì™€ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë³´ë‹¤ ì•„ë˜ì™€ ê°™ì´ ê°™ì€ í¬ë§·ë¼ë¦¬ ë¬¶ì–´ì„œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.

ë§‰ìƒ ë¯¸ì…˜ì´ ëë‚˜ê³ ì„œì•¼ ì´ëŸ°ìƒê°ì´ ë– ì˜¤ë¥´ëŠ”ì§€ ëª¨ë¥´ê² ë‹¤ ğŸ˜“ 4ì£¼ì°¨ì—ëŠ” í•œ ë²ˆ ì ìš©í•´ ë³¼ ì˜ˆì •ì´ë‹¤.

``` java title="LottoInformation.java"
public class LottoNumberRange { 
    public static final int LOTTO_MIN_RANGE = 1;
    public static final int LOTTO_MAX_RANGE = 45;
}

public enum LottoNumberRangeError {
    LOTTO_NUMBER_OUT_OF_RANGE("ë¡œë˜ ë²ˆí˜¸ëŠ” %dë¶€í„° %d ì‚¬ì´ì˜ ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤."),
    WRONG_LOTTO_NUMBER("ì˜ëª»ëœ ë¡œë˜ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì…¨ìŠµë‹ˆë‹¤. %d ë¶€í„° %d ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    private String message;

    private LottoNumberRangeError(String message) {
        this.message = message;
    }

    public String getMessage() {
        return String.format(message,LottoNumberRange.LOTTO_MIN_RANGE
                                    ,LottoNumberRange.LOTTO_MAX_RANGE);
    }
}

// ì‚¬ìš©
jshell> LottoNumberRangeError.WRONG_LOTTO_NUMBER.getMessage();
$3 ==> "ì˜ëª»ëœ ë¡œë˜ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì…¨ìŠµë‹ˆë‹¤. 1 ë¶€í„° 45 ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."
```

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë©”ì†Œë“œëª…ì€ ì–´ë–»ê²Œ ì‘ì„±í•´ì•¼ í• ê¹Œ.

2ì£¼ì°¨ì™€ ë‹¤ë¥´ê²Œ 3ì£¼ì°¨ ë¶€í„°ëŠ” ì„±ê³µ ì‹¤íŒ¨ ëŒ€ì‹ ì— Given_When_Then ì„ ì ìš©í•´ë³´ì•˜ë‹¤. ì´ë ‡ê²Œ ì½”ë“œë¥¼ ì§œë³´ë‹ˆ, í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì–´ë–¤ ê²ƒì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€ ëˆˆì— ë„ê²Œ ë˜ì—ˆê³ , ìš”êµ¬ì‚¬í•­ì— ë§ì¶°ì„œ ìì—°ìŠ¤ëŸ½ê²Œ í…ŒìŠ¤íŠ¸ë˜ì–´ í•œëˆˆì— ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

í•¨ìˆ˜ ì´ë¦„ìœ¼ë¡œ ì½”ë“œë¥¼ ì§œë‹¤ë³´ë‹ˆ, ìƒì„±í•˜ê¸°ê°€ í˜ë“¤ì—ˆë‹¤. ë‹¤ìŒì—” `DisplayName` ì–´ë…¸í…Œì´ì…˜ì„ í™œìš©í•˜ì—¬ ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€ ì„¤ëª…ì„ ì¶”ê°€í•˜ëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

``` java title="í…ŒìŠ¤íŠ¸ ì½”ë“œë“¤"
@Test
void ì…ë ¥ë°›ì€_ë‹¹ì²¨ë²ˆí˜¸ë¡œ_ë¡œë˜ë²ˆí˜¸ë¥¼_ìƒì„±ê°€ëŠ¥í•´ì•¼_í•¨() {
    // given
    List<Integer> givenNumbers = List.of(1, 2, 3, 4, 5, 6);
    String givenStringNumber = "1,2,3,4,5,6";
    // when
    Lotto lotto = Lotto.fromString(givenStringNumber);
    List<Integer> numbers = lotto.getNumbers();

    // then
    assertThat(numbers).isEqualTo(givenNumbers);
}

@Test
void ì…ë ¥ê°’ì´_ìˆ«ìê°€_ì•„ë‹ˆë©´_ì˜ˆì™¸ë°œìƒ_í›„_ì˜¤ë¥˜_ì‹ë³„ì´_ê°€ëŠ¥í•œ_ë©”ì‹œì§€_ë°œìƒ() {
    // given
    String givenMoney = "1234thereisnotNumeric";

    // when
    assertThatThrownBy(() -> ValidatorLottoBuy.validateString(givenMoney))
            // then
            .isInstanceOf(IllegalArgumentException.class)
            .hasMessageContaining(ERROR_STRING)
            .hasMessageContaining(LottoErrorMessage.WRONG_LOTTO_PRICE.getMessage());
}
```

### ì˜ˆì™¸ê°€ ë°œìƒí•  ê²½ìš° ë°œìƒí•œ ì§€ì ë¶€í„° ë‹¤ì‹œ ì²˜ë¦¬í•˜ê¸°

ì˜ˆì™¸ê°€ ë°œìƒí•œ ë¶€ë¶„ ì¦‰, ì…ë ¥ê°’ ê²€ì¦ì´ ì‹¤íŒ¨í•œ ì§€ì ë¶€í„° ì–´ë–»ê²Œ ì¬ë°˜ë³µí• ì§€ ê³ ë¯¼í•˜ì˜€ë‹¤. ì²˜ìŒì—” while ë¬¸ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì´ ê²€í† í•˜ë©´ ë˜ê² ë‹¤ê³  ìƒê°í–ˆë‹¤.

```java title="ExecuteUntilSuccess.java"
while(untilSuccess){
    result = null;
    try{
        result = ì…ë ¥ê°’_ê²€ì¦();
        untilSuccess = false; // ì½”ë“œ ë¹ ì €ë‚˜ê°€ê¸°
    }catch(ì˜ˆì™¸ë°œìƒ e){
        ì˜ˆì™¸_ì¶œë ¥
    }
    return result;
}
```

í•¨ìˆ˜ì˜ ì¤„ì´ ë§ì´ ì°¨ì§€í•˜ê²Œ ë˜ì–´ í•¨ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì„ ìˆ˜ ìˆëŠ” ë°©ë²•ì— ëŒ€í•´ ì—°êµ¬í•´ë³´ì•˜ëŠ”ë° `interface`ê°€ ê·¸ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤ê³  í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ í•¨ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

```java title="ExceuteUntilSuccess.java"
public class ExecuteUntilSuccess {
    private static <R> R executeWithRetry(OutputFunction output,
            Supplier<R> executionLogic) {
        R result = null;
        boolean executeUntilSuccess = true;
        while (executeUntilSuccess) {
            try {
                output.execute();
                result = executionLogic.get();
                executeUntilSuccess = false;
            } catch (IllegalArgumentException e) {
                OutputView.printErrorMessage(e);
            }
        }
        OutputView.printNewLine();
        return result;
    }

    public static <T, R> R execute(OutputFunction output, InputFunction<T> input, FactoryFunction<R, T> validator) {
        return executeWithRetry(output, () -> validator.execute(input.execute()));
    }
}

//í˜¸ì¶œ
private Lotto getLottoWinnerFromPrompt() {
    return ExecuteUntilSuccess.execute(
            OutputView::printInputWinnerLottoNumber,
            InputView::getBuyingLottoNumber,
            Lotto::fromString);
}
```

### ë‹¬ë¼ì§„ ì 

ì½”ë“œë¥¼ ëŒì´ì¼œë³´ë©´ì„œ ifë¬¸ì´ ê²€ì¦í•˜ëŠ” ê³³ ë¹¼ê³  í˜„ì €íˆ ì¤„ì–´ë“¤ì—ˆìŒì„ ëˆˆì— ë„ê²Œ ë³´ì˜€ë‹¤. ê·¸ë¦¬ê³  í•¨ìˆ˜ë¥¼ ë‚˜ëˆ„ë‹¤ ë³´ë‹ˆ (í•„ìê°€ ë‹¤ì‹œ ì½”ë“œë¥¼ ë´¤ì„ë•ŒëŠ”) ê°€ë…ì„±ì´ ì¢‹ì•„ì¡Œë‹¤.

ì˜í•˜ê³  ìˆê³ , ì•ìœ¼ë¡œë„ ì˜í•  ê²ƒì´ë‹¤. í™”ì´íŒ…!
