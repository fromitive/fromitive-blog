---
title: "ìœ íŠœë¸Œì—ì„œ ë°œê²¬í•œ backtest ì „ëµ ì¶”ê°€í•˜ê¸° #4"
description: youtubeì—ì„œ ë³¸ ìœ ëª…í•œ ì „ëµì„ ì¶”ê°€í•´ë³¼ê¹Œ?
date: 2023-07-13 17:00:00
comments: true
tags:
  - backtest
  - project
  - quant trading
  - Heiken Ashi
---

!!! note ""
    ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ ë§í¬ : [https://www.github.com/fromitive/backtest](https://www.github.com/fromitive/backtest)

!!! info ""
    ì´ì „ ê¸€ : [ìœ íŠœë¸Œì—ì„œ ë°œê²¬í•œ backtest ì „ëµ ì¶”ê°€í•˜ê¸° #3](/fromitive-blog/project/2023-07-12-backtest)

!!! danger "ë”°ë¼í•˜ì§€ ë§ˆì„¸ìš”!"
    2023-07-24 Update : í•´ë‹¹ ì „ëµì€ `compare_movement`ë¡œ ìŠ¹ë¥ ì„ ì˜¬ë¦¬ê³  ìˆì§€ë§Œ, ì½”ë“œ ìƒ `compare_movement`ëŠ” ì‚¬ì‹¤, íŠ¸ë ˆì´ë”© ì‹œ {==ì´ë¯¸ ë¯¸ë˜ì˜ ê²°ê³¼ë¥¼ ë°˜ì˜í–ˆê¸° ë•Œë¬¸ì—==}, ìˆ˜ìµìœ¨ì´ ì˜ë‚˜ì˜¨ ê²ƒì„ì„ ë¶„ì„í•˜ì˜€ìŠµë‹ˆë‹¤.
    ì¢€ë” í™•ì‹¤í•˜ê²Œ íˆ¬ìë¥¼ í•  ìˆ˜ ìˆê²Œ ì¶” í›„ ì—°êµ¬ì¤‘ì´ë‹ˆ, ê³¼ê±°ì˜ ë°ì´í„°ëŠ” ê³¼ê±°ì˜ ê²°ê³¼ì¼ ë¿ í˜„ì‹¤ê³¼ ì°¨ì´ê°€ ìˆìœ¼ë¯€ë¡œ ì ˆëŒ€ ë”°ë¼í•˜ì§€ ë§ˆì‹œê¸¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤ ğŸ™


## ì½”ë“œ ì‘ì„± ì „ ê³ ë ¤í•´ì•¼ í•  ì‚¬í•­

ì§€ë‚œì‹œê°„ì—ëŠ” ìœ íŠœë¸Œ ì—ì„œ ë‚˜ì˜¨ ì „ëµì´ ì•„ì‰½ê²Œë„ ìˆ˜ìµì„ ë‚´ì§€ ëª»í–ˆë‹¤. ê·¸ ì´ìœ ëŠ” `ìƒìŠ¹ì¥`ì—ì„œë§Œ í†µí•˜ëŠ” ì „ëµì´ê¸° ë•Œë¬¸ì´ë‹¤.

ìœ íŠœë¸Œì—ì„œëŠ” `ë¡± í¬ì§€ì…˜` ì „ëµì„ `í•˜ì´í‚¨ì•„ì‹œ(Heikin Ashi) ì°¨íŠ¸`[^1]ë¡œ ë³€í™˜í•˜ì—¬ {==ìƒìŠ¹ì¥ ì¼ë•Œ==} ì´ ì „ëµì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤.

<figure markdown>
  ![Image title](/fromitive-blog/assets/2023-07-13/07-13-backtest1.png){ width="800" }
  <figcaption>ê·¸ë¦¼ 1 - í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸</figcaption>
  [ìœ íŠœë¸Œìë£Œ ì°¸ì¡°](https://www.youtube.com/watch?v=Gi5G7UXjX6Q)
</figure>

[^1]: `í•˜ì´í‚¨ì•„ì‹œ(Heikin Ashi) ì°¨íŠ¸ëŠ”` ì–‘ë´‰ê³¼ ìŒë´‰ì„ ì‹œê°€, ê³ ê°€, ì €ê°€, ì¢…ê°€ì˜ í‰ê· ê°’ë“¤ì„ í™œìš©í•˜ì—¬ ë§Œë“¤ì–´ì§€ëŠ” ì°¨íŠ¸ì´ë‹¤.


ë”°ë¼ì„œ, `Heikin ashi`ëŠ” ì–´ë–»ê²Œ ì–‘ë´‰ê³¼, ìŒë´‰ì„ êµ¬ë³„í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼ í•˜ê³ , {==ìƒìŠ¹ì¥ì„ íŒŒì•…í•  ë•Œ ì–‘ë´‰ì´ ì—°ì†ì ìœ¼ë¡œ ë‚˜ì˜¬ ê²½ìš°ì—==}ë§Œ ê±°ë˜ë¥¼ í•˜ë„ë¡ ê¸°ëŠ¥ì„ ì¶”ê°€í•œë‹¤.


## ìš”êµ¬ì‚¬í•­ ë¶„ì„

ì˜¤ëŠ˜ì˜ ìš”êµ¬ì‚¬í•­ì€ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆìœ¼ë©°, ìš”êµ¬ì‚¬í•­ëŒ€ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•œ í›„ ì‹¤ì œ ë°±í…ŒìŠ¤íŒ… ê²°ê³¼ê°€ ë¹„ìŠ·í•˜ê²Œ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•´ë³´ê² ë‹¤.

``` title="ìš”êµ¬ì‚¬í•­"

1. StockDataê°€ ì£¼ì–´ì§€ë©´, í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ì—ì„œ ì–‘ë´‰ì¸ì§€ ìŒë´‰ì¸ì§€ ì–»ì„ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•¨.
2. í•˜ì´í‚¨ì•„ì‹œ ì¼ë´‰ ì°¨íŠ¸ë¥¼ 30ë¶„ ë´‰ìœ¼ë¡œ ìª¼ê°œì–´ ì ìš©
3. í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ì—ì„œ ì—°ì†ì ìœ¼ë¡œ ì–‘ë´‰ì„ì„ ê²€ì¦í•˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€.

```

### í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ë¥¼ êµ¬í•˜ëŠ”ë²•

Heikin Ashi ì°¨íŠ¸ë¥¼ êµ¬í•˜ëŠ” ì†ŒìŠ¤ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìœ¼ë©°, 'Movment' ì—´ì„ í†µí•´ í˜„ì¬ ì‹œê°„ì˜ ë´‰ì´ `ì–‘ë´‰`ì¸ì§€ `ìŒë´‰`ì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

``` python title="heikin_ashi.py" linenums="1"
def calculate_heikin_ashi(df,open,high,low,close):
    """
    df    : ì£¼ì‹ DataFrame
    open  : ì‹œê°€ì˜ ì—´ ì´ë¦„
    high  : ê³ ê°€ì˜ ì—´ ì´ë¦„
    low   : ì €ê°€ì˜ ì—´ ì´ë¦„
    close : ì¢…ê°€ì˜ ì—´ ì´ë¦„
    """

    # í•˜ì´í‚¨ ì•„ì‹œ ìº”ë“¤ ê³„ì‚°
    ha_close = (df[open] + df[high] + df[low] + df[close]) / 4
    ha_open = (df[open].shift(1) + df[close].shift(1)) / 2
    ha_high = df[[high,open,close]].max(axis=1)
    ha_low = df[[low,open,close]].min(axis=1)

    df['HA_Close'] = ha_close
    df['HA_Open'] = ha_open
    df['HA_High'] = ha_high
    df['HA_Low'] = ha_low

    # ì–‘ë´‰ì¸ì§€ ìŒë´‰ì¸ì§€ í™•ì¸
    df['Movement'] = np.where(df['HA_Close'] > df['HA_Open'], 'Up', 'Down')
```

ì–‘ë´‰ ìŒë´‰ì€ ì¼ë°˜ ìº”ë“¤ì°¨íŠ¸ì™€ ë™ì¼í•˜ê²Œ `ì¢…ê°€`ê°€ `ì‹œê°€`ë³´ë‹¤ í¬ë©´ `ì–‘ë´‰` ê·¸ ë°˜ëŒ€ë©´ ìŒë´‰ì´ë‹¤. ë‹¤ë§Œ, `ì¢…ê°€`ì™€`ì‹œê°€`ë¥¼ í•˜ì´í‚¨ ì•„ì‹œ ì¢…ê°€, ì‹œê°€ë¡œ ê³„ì‚°í•˜ì—¬ ë¹„êµí•œë‹¤ëŠ” ì ì—ì„œ ì°¨ì´ê°€ ìˆë‹¤.

ì´ë¡œì¨ ìš”êµ¬ì‚¬í•­ 1ë²ˆì€ í•´ê²°ë˜ì—ˆë‹¤.

- [x] StockDataê°€ ì£¼ì–´ì§€ë©´, í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ì—ì„œ ì–‘ë´‰ì¸ì§€ ìŒë´‰ì¸ì§€ ì–»ì„ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•¨.
- [ ] í•˜ì´í‚¨ì•„ì‹œ ì¼ë´‰ ì°¨íŠ¸ë¥¼ 30ë¶„ ë´‰ìœ¼ë¡œ ìª¼ê°œì–´ ì ìš©
- [ ] í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ì—ì„œ ì—°ì†ì ìœ¼ë¡œ ì–‘ë´‰ì„ì„ ê²€ì¦í•˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€.

### í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ë¥¼ ì¼ë´‰ìœ¼ë¡œ ë´ì•¼ í•˜ëŠ” ì´ìœ 

ì¼ë´‰ìœ¼ë¡œ ë´ì•¼ í•˜ëŠ” ì´ìœ ëŠ”, `í•˜ë£¨ ìƒìŠ¹ì¥`ì€ ìˆ˜ìµì„ ë‚¼ í™•ë¥ ì´ ë†’ë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ê·¸ë¦¬ê³ , ì—°ì†ì ìœ¼ë¡œ ìƒìŠ¹ì¥ì„ í–¥í•˜ê³  ìˆëŠ” ì¶”ì„¸ë¥¼ ë°œê²¬í•˜ë©´, ì˜¤ëŠ˜ì˜ ê±°ë˜ë„ ìƒìŠ¹ì¥ì¼ í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤. ì¦‰, ê´€ì„±ì„ ë”°ë¥¸ë‹¤.

ë”°ë¼ì„œ 30ë¶„ë´‰ ì°¨íŠ¸ë¡œ ë°±í…ŒìŠ¤íŒ… ìë£Œë¥¼ ë§Œë“¤ ë•Œ ê°™ì€ ì¢…ëª©ì˜ í•˜ì´í‚¨ì•„ì‹œ ì¼ë´‰ ì°¨íŠ¸ë¥¼ ê°€ì ¸ì™€ì„œ, 30ë¶„ ë´‰ì— ëŒ€ì…í•´ì•¼ í•œë‹¤.

ì–´ë–»ê²Œ 1ì¼ ë´‰ì„ 30ë¶„ ë´‰ìœ¼ë¡œ ìª¼ê°¤ ìˆ˜ ìˆì„ê¹Œ? pandasëŠ” ì´ë¯¸ ê·¸ëŸ° ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆì–´ì„œ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ í•´ê²°ëœë‹¤.


ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

``` python title="day_2_minute.py" linenums="1"

    day_df.index = pd.to_datetime(day_df.index)
    day_df = day_df.resample('T').fillna(method='bfill')  # ë’¤ì˜ NaNê°’ì„ í˜„ì¬ ê°’ìœ¼ë¡œ ì±„ìš´ë‹¤. 
    day_df = day_df.reindex(minute_df.index, method='ffill') # ì•ì˜ NaNê°’ì„ í˜„ì¬ ê°’ìœ¼ë¡œ ì±„ìš´ë‹¤. ê²°êµ­ì—” ëª¨ë“  ê°’ì´ NaNì´ ì•„ë‹ˆë„ë¡ ëœë‹¤.
```

**resampleì„ í•˜ê²Œ ë˜ë©´, `day_df`ì˜ ì¼ë‹¨ìœ„ indexê°€ 1ë¶„ë‹¨ìœ„ë¡œ í™•ì¥ë˜ê³ , ì´ë¥¼ `minute_df`ì˜ indexë¥¼ ì„¸íŒ…í•˜ë©´, ì¼ë‹¨ìœ„ ë°ì´í„°ë¥¼ 30ë¶„ë´‰ ë°ì´í„°ì— ëŒ€ì…í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.**

ì´ë¥¼ ì´ìš©í•´ `day_df`ì—ëŠ” `í•˜ì´í‚¨ ì•„ì‹œ` 1ì¼ë´‰ ì°¨íŠ¸, `minute_df`ì—ëŠ” ìš°ë¦¬ê°€ ë°±í…ŒìŠ¤íŒ… ëŒë¦´ 30ë¶„ë´‰ ì°¨íŠ¸ë¥¼ ëŒ€ì…í•´ì£¼ì.

ì´ë¡œì¨ ìš”êµ¬ì‚¬í•­ 2ë²ˆë„ í•´ê²°ë˜ì—ˆë‹¤.

- [x] StockDataê°€ ì£¼ì–´ì§€ë©´, í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ì—ì„œ ì–‘ë´‰ì¸ì§€ ìŒë´‰ì¸ì§€ ì–»ì„ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•¨.
- [X] í•˜ì´í‚¨ì•„ì‹œ ì¼ë´‰ ì°¨íŠ¸ë¥¼ 30ë¶„ ë´‰ìœ¼ë¡œ ìª¼ê°œì–´ ì ìš©
- [ ] í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ì—ì„œ ì—°ì†ì ìœ¼ë¡œ ì–‘ë´‰ì„ì„ ê²€ì¦í•˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€.

### ì—°ì†ì ìœ¼ë¡œ ì–‘ë´‰ì„ì„ í™•ì¸í•˜ëŠ” ë°©ë²•
!!! warning "ì˜¤ë¥˜ ìˆ˜ì •"
    ìˆ˜ì • ë‚ ì§œ : 2023-07-14
    ìˆ˜ì • ì´ìœ  : 1ì¼ ì°¨íŠ¸ë¡œ Nì¼ ì—°ì† ì–‘ë´‰ì¸ì§€ í™•ì¸í•  ë•Œ, ìª¼ê°œì–´ì§„ í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ”ê²Œ ì•„ë‹˜

~~30ë¶„ ë´‰ìœ¼ë¡œ í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ë¥¼ ìª¼ê°œì—ˆë‹¤ë©´ ë§¤ìˆ˜ ì‹ í˜¸ë¥¼ ë§Œë“¤ê¸° ì „ì— ì—°ì†ì ìœ¼ë¡œ ì–‘ë´‰ì¸ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.~~

~~ì´ëŸ´ ë•, ì´ì „ ê°’ì„ ì•ìœ¼ë¡œ ë‹¹ê¸¸ ìˆ˜ ìˆëŠ” `.shift()`ë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤.~~

~~{==nì¼ ì—°ì† ì–‘ë´‰ì„ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ^^ì—¬ëŸ¬ê°œì˜ shift ì—´ì„ ì¶”ê°€í•˜ëŠ” ë°˜ë³µë¬¸ì„ ì¶”ê°€í•œë‹¤.^^ ==}~~

~~ì–‘ë´‰ì¸ì§€ ìŒë´‰ì¸ì§€ í™•ì¸í•˜ëŠ” ì—´ì€ `Movement`ë¡œ ì´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¶”ê°€í•œë‹¤.~~

1ì¼ ë´‰ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ í•˜ì´í‚¨ ì•„ì‹œ ì°¨íŠ¸ì—ì„œ Nì¼ ì—°ì† ì–‘ë´‰ì„ ê²€ì¦í•œ í›„ ê·¸ ê²°ê³¼ê°’ì„ `tradable` ì—´ì— ì €ì¥í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì€ ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.

ì¼ë‹¨ Nì¼ ê¹Œì§€ì˜ ì—´ì„ `.shift()` í•¨ìˆ˜ë¥¼ í†µí•´ í˜„ì¬ ë‚ ì§œê¹Œì§€ ì•ë‹¹ê¸´ í›„, í•´ë‹¹ ê²°ê³¼ê°’ì´ ì „ë¶€ Up ì¸ì§€ í™•ì¸í•˜ë©´ ëœë‹¤.

``` python title="continuos_up_detect.py"

for i in range(continue_day):
    heikin_ashi_df['Movement_{}'.format(i)] = heikin_ashi_df.shift(i)

def _is_tradeable(r:pd.Series):
    for i in range(continue_day):
        if r['Movement_{}'.format(i)] == 'Down':
            return False
    return True

heikin_ash_df['tradable'] = heikinn_ash_df.apply(lambda r: _is_tradeable(r), axis=1)
```

ì´ë¡œì„œ ë§ˆì§€ë§‰ì˜ ìš”êµ¬ì‚¬í•­ë„ ê¹”ë”í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆì—ˆë‹¤.

- [x] StockDataê°€ ì£¼ì–´ì§€ë©´, í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ì—ì„œ ì–‘ë´‰ì¸ì§€ ìŒë´‰ì¸ì§€ ì–»ì„ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•¨.
- [X] í•˜ì´í‚¨ì•„ì‹œ ì¼ë´‰ ì°¨íŠ¸ë¥¼ 30ë¶„ ë´‰ìœ¼ë¡œ ìª¼ê°œì–´ ì ìš©
- [X] í•˜ì´í‚¨ì•„ì‹œ ì°¨íŠ¸ì—ì„œ ì—°ì†ì ìœ¼ë¡œ ì–‘ë´‰ì„ì„ ê²€ì¦í•˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€.


## ì½”ë“œ êµ¬í˜„ ë° ê²€ì¦

### ì½”ë“œ êµ¬í˜„

ìœ íŠœë¸Œ ì „ëµì˜ ìµœì¢… í•¨ìˆ˜ëŠ” ì•„ë˜ì™€ ê°™ìœ¼ë©°, í•˜ì´ë¼ì´íŠ¸ ëœ ë¶€ë¶„ì´ ^^**ìœ„ì˜ ìš”êµ¬ì‚¬í•­**^^ ì„ ë°˜ì˜í•œ ê²ƒì´ë‹¤.

``` python title="stocastic_rsi_ema_mix_function_final.py" linenums="1" hl_lines="3 4 5 6 8 9 11 12 13 14 15 23 24 29"
def stocastic_rsi_ema_mix_function(data: StockData, weight: int, name: str, timeperiod: int = 200, rsi_period: int = 14, fastk_period=3, fastd_period=3, fastd_matype=0,
                                buy_rate: float = 25.0, sell_profit: float = 0.02, sell_lose: float = -0.015, heikin_ashi: dict = {}, compare_movement: int = 3):
    heikin_ashi_df = None
    if data.symbol in heikin_ashi.keys():
        heikin_ashi_stockdata = heikin_ashi[data.symbol]
        heikin_ashi_df = heikin_ashi_stockdata.data

    for i in range(compare_movement):
        heikin_ashi_df['Movement_{}'.format(i)] = heikin_ashi_df['Movement'].shift(i)
        
    def _is_tradeable(r: pd.Series):
        for i in range(compare_movement):
            if r['Movement_{}'.format(i)] == 'Down':
                return False
        return True

    # resample heikin_ashi_df
    if heikin_ashi_stockdata.unit == 'D' and data.unit == 'M':
        heikin_ashi_df.index = pd.to_datetime(heikin_ashi_df.index)
        heikin_ashi_df = heikin_ashi_df.resample('T').fillna(method='bfill')
        heikin_ashi_df = heikin_ashi_df.reindex(data.data.index, method='ffill')
    
    df = data.data
    df['tradeable'] = heikin_ashi_df['tradeable']
    
    # ...(ì¤‘ëµ)...
    
    def _buy_signal(r: pd.Series):
        if r.tradeable:
            if r.close > r.ema:  # buy condition 1
                # buy condition 2
                if r.fastk < buy_rate and r.fastd < buy_rate:
                    # buy_condition 3
                    if r.before_fastk < r.fastk and r.before_fastd < r.fastd:
                        if r.fastk > r.fastd:
                            return (StrategyResultColumnType.BUY, weight)
        return (StrategyResultColumnType.KEEP, 0)
    
    df['result'] = df.apply(lambda r: _buy_signal(r), axis=1)
    
    # ...(ìƒëµ)...
```

### ë°±í…ŒìŠ¤íŒ… ê²°ê³¼ 

`vectorbt`ë¥¼ ì´ìš©í•´ ì–´ì œì™€ ê°™ì€ ë°ì´í„°ë¡œ ë°±í…ŒìŠ¤íŒ…ì„ í™•ì¸í•œ ê²°ê³¼, ì•„ë˜ì™€ ê°™ì´ ìˆ˜ìµì„ ë²Œì–´ë“¤ì˜€ë‹¤. ìŠ¹ë¥ ì´ 50í¼ì„¼íŠ¸ë¼ë„, í•œë²ˆ ì´ê¸°ë©´ ì†ì ˆí•˜ëŠ” ê²ƒ ë³´ë‹¤ ë”ìš± ìˆ˜ìµì„ ë²Œì–´ì„œ ê²°êµ­ì—” ì´ë“ì´ë‹¤.

``` title="ë°±í…ŒìŠ¤íŒ… ê²°ê³¼" hl_lines="6"
Start                         2023-06-19 09:00:00
End                           2023-07-13 18:00:00
Period                                       1164
Start Value                                 100.0
End Value                              102.866105
Total Return [%]                         2.866105
Benchmark Return [%]                     8.012395
Max Gross Exposure [%]                      100.0
Total Fees Paid                               0.0
Max Drawdown [%]                         6.122818
Max Drawdown Duration                       354.0
Total Trades                                   10
Total Closed Trades                            10
Total Open Trades                               0
Open Trade PnL                                0.0
Win Rate [%]                                 50.0
Best Trade [%]                           2.734218
Worst Trade [%]                         -1.610954
Avg Winning Trade [%]                    1.856504
Avg Losing Trade [%]                    -1.261333
Avg Winning Trade Duration                   29.0
Avg Losing Trade Duration                    20.8
Profit Factor                            1.456966
Expectancy                               0.286611
dtype: object
```

ê·¸ë˜í”„ë¥¼ í™•ì¸í•˜ë©´, í•˜ë½ì¥ì—ì„  ë§¤ìˆ˜ë¥¼ í•˜ì§€ ì•Šë„ë¡ ì œì–´ë¥¼ í•˜ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.

<figure markdown>
  ![Image title](/fromitive-blog/assets/2023-07-13/07-13-backtest2.png){ width="800" }
  <figcaption>ê·¸ë¦¼  2 - backtest ì‹œê°í™” ê²°ê³¼</figcaption>
</figure>


## ë‹¤ìŒì€?

ì™œ 100ë§Œ ì¡°íšŒìˆ˜ê°€ ë„˜ì€ ìœ íŠœë¸Œì¸ì§€ ì•Œê² ë‹¤. ìŠ¹ë¥ ì´ ë†’ê³ , ì§€ì†ì ìœ¼ë¡œ ìˆ˜ìµì„ ê°€ì ¸ë‹¤ ì£¼ê¸° ë•Œë¬¸ì¼ ê±°ë¼ ìƒê°í•œë‹¤.

ë‹¤ìŒì€, ì‹¤ì œ ê±°ë˜ì†Œ ì‹œìŠ¤í…œê³¼ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ìƒê°í•˜ì—¬ ì‹¤ì œë¡œ ì´ ì „ëµì„ê°€ì§€ê³  íˆ¬ìë¥¼ í•´ë³¼ ì˜ˆì •ì´ë‹¤.
